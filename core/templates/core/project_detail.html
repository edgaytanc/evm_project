{% extends 'base.html' %}

{% block title %}Detalles del Proyecto - EVM Application{% endblock %}

{% block content %}
    <h2 class="h2">Detalles del Proyecto</h2>
    <table class="table">
        <tr>
            <th>Nombre:</th>
            <td>{{ project.name }}</td>
        </tr>
        <tr>
            <th>Costo Planificado:</th>
            <td>${{ project.planned_cost }}</td>
        </tr>
        <tr>
            <th>Costo Real:</th>
            <td>${{ project.actual_cost }}</td>
        </tr>
        <tr>
            <th>Valor Ganado:</th>
            <td>${{ project.earned_value }}</td>
        </tr>
        <tr>
            <th>Fecha de Inicio:</th>
            <td>{{ project.start_date }}</td>
        </tr>
        <tr>
            <th>Fecha de Fin:</th>
            <td>{{ project.end_date }}</td>
        </tr>
        <tr>
            <th>CPI (Cost Performance Index):</th>
            <td>
                {% if project.cost_performance_index %}
                    {{ project.cost_performance_index|floatformat:2 }}
                {% else %}
                    No calculado (AC = 0)
                {% endif %}
            </td>
        </tr>
        <tr>
            <th>SPI (Schedule Performance Index):</th>
            <td>
                {% if project.schedule_performance_index %}
                    {{ project.schedule_performance_index|floatformat:2 }}
                {% else %}
                    No calculado (PV = 0)
                {% endif %}
            </td>
        </tr>
        <tr>
            <th>CV (Cost Variance):</th>
            <td>
                {% if cv %}
                    ${{ cv|floatformat:2 }}
                {% else %}
                    No disponible
                {% endif %}
            </td>
        </tr>
        <tr>
            <th>SV (Schedule Variance):</th>
            <td>
                {% if sv %}
                    ${{ sv|floatformat:2 }}
                {% else %}
                    No disponible
                {% endif %}
            </td>
        </tr>
        <tr>
            <th>CSI (Cost Schedule Index):</th>
            <td>
                {% if csi %}
                    {{ csi|floatformat:2 }}
                {% else %}
                    No disponible
                {% endif %}
            </td>
        </tr>
        <tr>
            <th>ETC (Estimate to Complete):</th>
            <td>
                {% if etc %}
                    ${{ etc|floatformat:2 }}
                {% else %}
                    No disponible
                {% endif %}
            </td>
        </tr>
        <tr>
            <th>EAC (Estimate at Completion):</th>
            <td>
                {% if eac %}
                    ${{ eac|floatformat:2 }}
                {% else %}
                    No disponible
                {% endif %}
            </td>
        </tr>
    </table>
    <a href="{% url 'project_edit' project.pk %}" class="btn btn-warning">Editar Proyecto</a>
    <a href="{% url 'project_list' %}" class="btn btn-secondary">Volver a la Lista</a>
{% endblock %}
